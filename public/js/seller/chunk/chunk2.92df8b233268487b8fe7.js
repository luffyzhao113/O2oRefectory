webpackJsonp([2],{"+fyE":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("default"),t._v(" "),a("div",{staticClass:"box-flex-list"},[a("Card",{attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._t("title",[a("span",[t._v("列表")])]),t._v(" "),t._t("button")],2),t._v(" "),a("Table",{ref:"table",attrs:{columns:t.tableCol,data:t.value.data,size:"small","row-class-name":t.rowClassName,loading:t.loading}}),t._v(" "),a("Page",{attrs:{total:t.value.page.total,size:"small",current:t.value.page.current,"page-size":t.value.page.page_size,"show-total":""},on:{"on-change":t.change}})],1)],1)],2)},staticRenderFns:[]}},"/IoB":function(t,e,a){var r=a("VU/8")(a("xBbe"),a("i4sg"),!1,function(t){a("5/a0")},"data-v-69c85e42",null);t.exports=r.exports},"0MyR":function(t,e,a){var r=a("VU/8")(a("kHV6"),a("i9kd"),!1,function(t){a("b+8W")},"data-v-59a786f6",null);t.exports=r.exports},"1sIU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"box-item",props:{span:[Number,String],order:[Number,String],offset:[Number,String],push:[Number,String],pull:[Number,String],className:String,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object]}}},"36X4":function(t,e,a){var r=a("VU/8")(a("Q/gJ"),a("W03j"),!1,function(t){a("G+Zk")},null,null);t.exports=r.exports},"5/a0":function(t,e,a){var r=a("Z8AM");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("71f40b0f",r,!0,{})},"6mZy":function(t,e,a){var r=a("VU/8")(a("cavH"),a("j4FD"),!1,function(t){a("JO/E")},"data-v-46eaaf66",null);t.exports=r.exports},"79/q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("wbiy"),s=(r=o)&&r.__esModule?r:{default:r};e.default={mixins:[s.default],data:function(){return{searchForm:{},data:{data:[],page:{total:0,current:1,page_size:20}},component:{current:"",data:{}}}},mounted:function(){this.search()},methods:{search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},assignmentData:function(t){this.data.data=t.data,this.data.page.total=t.total,this.data.page.current=t.current_page,this.data.page.page_size=t.per_page},showComponent:function(t,e){this.component.current=t,this.component.data=e},hideComponent:function(){this.component.current="",this.component.data={},this.search()},destroyItem:function(t,e){var a=this;this.$http.delete(e).then(function(t){a.search()}).catch(function(t){a.formatErrors(t)})},request:function(t){var e=JSON.parse(JSON.stringify(this.searchForm));return e.page=t,e}}}},FUr0:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},FZyY:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".form-tags-input[data-v-46eaaf66]{width:150px;display:inline-block;vertical-align:middle}",""])},"G+Zk":function(t,e,a){var r=a("xo8R");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("0d1b8bd5",r,!0,{})},HH0h:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("Col",{attrs:{span:t.span,offset:t.offset,order:t.order,push:t.push,pull:t.pull,className:t.className,xs:t.xs,sm:t.sm,md:t.md,lg:t.lg}},[t._t("default")],2)},staticRenderFns:[]}},J0aG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{name:[{required:!0,type:"string",message:"名称必须填写",trigger:"blur"},{type:"string",min:2,max:20,message:"名称必须在 2 到 20 个字符之间",trigger:"blur"}],specs:[{type:"array",message:"模型规格格式不正确",trigger:"blur"}]}}},"JO/E":function(t,e,a){var r=a("FZyY");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("2222fcfb",r,!0,{})},K8Mk:function(t,e,a){var r=a("KXkR");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("2499f676",r,!0,{})},KXkR:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".seller-model .form-item{margin-bottom:19px}.seller-model .delete{text-align:center;line-height:30px;cursor:pointer}.seller-model .form-item .ivu-form-item-error-tip{padding-top:0}",""])},KxS8:function(t,e,a){var r=a("VU/8")(a("rKxu"),a("cDMn"),!1,function(t){a("K8Mk")},null,null);t.exports=r.exports},LmQL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{name:[{required:!0,type:"string",message:"名称必须填写",trigger:"blur"},{type:"string",min:2,max:20,message:"名称必须在 2 到 20 个字符之间",trigger:"blur"}],specs:[{type:"array",message:"模型规格格式不正确",trigger:"blur"}]}}},PqZK:function(t,e,a){var r=a("T+rx");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("23a4e33b",r,!0,{})},"Q/gJ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(a("sb2X")),o=c(a("XNfZ")),s=c(a("tkAJ")),n=a("J0aG"),i=c(a("/IoB")),l=c(a("QDiq")),u=c(a("6mZy"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"create",components:{FormTags:u.default,BoxItem:l.default,Box:i.default,ComponentModal:r.default},mixins:[o.default,s.default],data:function(){return{formCreate:{attributes:[{name:"",values:[]}],specs:[]},ruleCreate:(0,n.Validator)(this)}},methods:{handleAdd:function(){this.formCreate.attributes.push({name:"",values:[]})},handleRemove:function(t){this.formCreate.attributes.splice(t,1)}}}},QDiq:function(t,e,a){var r=a("VU/8")(a("1sIU"),a("HH0h"),!1,function(t){a("zxV6")},"data-v-263799b5",null);t.exports=r.exports},QzxY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"component-modal",props:{title:{type:String,default:"弹窗"},width:{type:Number,default:520},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$parent.$emit("on-change")}}}},RFRr:function(t,e,a){var r=a("WWKa");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("5003b1c3",r,!0,{})},"T+rx":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".box-flex-list{position:relative}.box-flex-list .ivu-card-head .ivu-btn{float:right}.box-flex-list .ivu-card-head p{height:24px;line-height:24px}.box-flex-list .ivu-table .table-info-row td{background-color:#2db7f5;color:#fff}.box-flex-list .ivu-page{text-align:right}.box-flex-list .ivu-table-wrapper{margin-bottom:15px}",""])},W03j:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("component-modal",{staticClass:"seller-model",attrs:{title:"添加模型",loading:t.loading,width:900}},[a("Form",{ref:"formCreate",attrs:{model:t.formCreate,"label-width":100,rules:t.ruleCreate}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模型名称",prop:"name"}},[a("Input",{attrs:{placeholder:"模型名称"},model:{value:t.formCreate.name,callback:function(e){t.$set(t.formCreate,"name",e)},expression:"formCreate.name"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"模型说明"}},[a("Input",{attrs:{type:"textarea",placeholder:"模型说明"},model:{value:t.formCreate.description,callback:function(e){t.$set(t.formCreate,"description",e)},expression:"formCreate.description"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"模型规格",prop:"specs"}},[a("FormTags",{attrs:{placeholder:"规格"},model:{value:t.formCreate.specs,callback:function(e){t.$set(t.formCreate,"specs",e)},expression:"formCreate.specs"}})],1)],1),t._v(" "),a("Col",{attrs:{offset:"3",span:"21"}},[a("box",{attrs:{title:"关联属性"}},[t._l(t.formCreate.attributes,function(e,r){return[a("box-item",{staticClass:"delete",attrs:{span:1}},[a("Icon",{attrs:{size:18,color:"red",type:"md-close-circle"},on:{click:t.handleRemove}})],1),t._v(" "),a("box-item",{attrs:{span:5}},[a("FormItem",{staticClass:"form-item",attrs:{label:"名称","label-width":55,prop:"attributes."+r+".name",rules:{required:!0,message:"关联属性必须填写",trigger:"blur"}}},[a("Input",{attrs:{placeholder:"名称",size:"small"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1)],1),t._v(" "),a("box-item",{attrs:{span:18}},[a("FormItem",{staticClass:"form-item",attrs:{label:"值","label-width":55,prop:"attributes."+r+".values",rules:{required:!0,type:"array",message:"关联值必须填写",trigger:"blur"}}},[a("FormTags",{attrs:{placeholder:"值"},model:{value:e.values,callback:function(a){t.$set(e,"values",a)},expression:"item.values"}})],1)],1)]}),t._v(" "),a("box-item",{attrs:{offset:"1",span:"6"}},[a("Button",{attrs:{long:"",type:"dashed",size:"small"},on:{click:t.handleAdd}},[t._v("添加属性")])],1)],2)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.createSubmit("formCreate","model")}}},[t._v("创建")])],1)],1)},staticRenderFns:[]}},WWKa:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".modal-body[data-v-f6907288]{max-height:550px;overflow-y:auto}",""])},XNFv:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},XNfZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{data:{}},data:function(){return{loading:!1}},methods:{change:function(t){!1===t&&this.$emit("on-change")}}}},Z8AM:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".box[data-v-69c85e42]{margin-bottom:10px;border:1px solid #dddee1;border-radius:5px}.box[data-v-69c85e42]:last-child{margin-bottom:0}.box-header[data-v-69c85e42]{padding:8px 48px 8px 16px;color:#495060;font-size:12px;line-height:16px;border-bottom:1px solid #dddee1}.box-detail[data-v-69c85e42]{padding:10px}",""])},"b+8W":function(t,e,a){var r=a("FUr0");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("1ad0f522",r,!0,{})},cDMn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("component-modal",{staticClass:"seller-model",attrs:{title:"添加模型",loading:t.loading,width:900}},[a("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":100,rules:t.ruleUpdate}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"模型名称",prop:"name"}},[a("Input",{attrs:{placeholder:"模型名称"},model:{value:t.formUpdate.name,callback:function(e){t.$set(t.formUpdate,"name",e)},expression:"formUpdate.name"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"模型说明"}},[a("Input",{attrs:{type:"textarea",placeholder:"模型说明"},model:{value:t.formUpdate.description,callback:function(e){t.$set(t.formUpdate,"description",e)},expression:"formUpdate.description"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"模型规格",prop:"specs"}},[a("FormTags",{attrs:{placeholder:"规格"},model:{value:t.formUpdate.specs,callback:function(e){t.$set(t.formUpdate,"specs",e)},expression:"formUpdate.specs"}})],1)],1),t._v(" "),a("Col",{attrs:{offset:"3",span:"21"}},[a("box",{attrs:{title:"关联属性"}},[t._l(t.formUpdate.attributes,function(e,r){return[a("box-item",{staticClass:"delete",attrs:{span:1}},[a("Icon",{attrs:{size:18,color:"red",type:"md-close-circle"},on:{click:t.handleRemove}})],1),t._v(" "),a("box-item",{attrs:{span:5}},[a("FormItem",{staticClass:"form-item",attrs:{label:"名称","label-width":55,prop:"attributes."+r+".name",rules:{required:!0,message:"关联属性必须填写",trigger:"blur"}}},[a("Input",{attrs:{placeholder:"名称",size:"small"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1)],1),t._v(" "),a("box-item",{attrs:{span:18}},[a("FormItem",{staticClass:"form-item",attrs:{label:"值","label-width":55,prop:"attributes."+r+".values",rules:{required:!0,type:"array",message:"关联值必须填写",trigger:"blur"}}},[a("FormTags",{attrs:{placeholder:"值"},model:{value:e.values,callback:function(a){t.$set(e,"values",a)},expression:"item.values"}})],1)],1)]}),t._v(" "),a("box-item",{attrs:{offset:"1",span:"6"}},[a("Button",{attrs:{long:"",type:"dashed",size:"small"},on:{click:t.handleAdd}},[t._v("添加属性")])],1)],2)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.updateSubmit("formUpdate","model/"+t.data.id)}}},[t._v("更新")])],1)],1)},staticRenderFns:[]}},cavH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("pEmh"),s=(r=o)&&r.__esModule?r:{default:r};e.default={name:"form-tags",mixins:[s.default],props:{placeholder:{type:String,default:"标签"},value:{type:Array,default:function(){return[]}}},data:function(){return{specs:this.value}},methods:{onSearch:function(t){""!==t&&void 0===this.specs.find(function(e){return e===t})?(this.specs.push(t),this.$refs.addTags.handleClear(),this.dispatch("FormItem","on-form-blur",this.specs),this.$emit("input",this.specs)):this.$Message.error(this.placeholder+" 不能为空，或者以存在！")},handleClose:function(t,e){this.specs.splice(e,1),this.dispatch("FormItem","on-form-blur",this.specs),this.$emit("input",this.specs)}},watch:{value:function(t){this.specs=t}}}},dRdT:function(t,e,a){var r=a("VU/8")(a("mTUa"),a("+fyE"),!1,function(t){a("PqZK")},null,null);t.exports=r.exports},i4sg:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("div",{staticClass:"box-header"},[this._t("title",[this._v(this._s(this.title))])],2),this._v(" "),e("Row",{staticClass:"box-detail"},[this._t("default")],2)],1)},staticRenderFns:[]}},i9kd:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("my-lists",{attrs:{columns:t.columns,loading:t.loading},on:{change:t.search},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v("搜索")])]),t._v(" "),a("Form",{ref:"searchForm",attrs:{model:t.searchForm,"label-width":80,inline:""}},[a("FormItem",{attrs:{prop:"role_id",label:"类型","label-width":60}},[a("i-select",{attrs:{clearable:""},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}},[a("i-option",{attrs:{value:1}},[t._v("属性")]),t._v(" "),a("i-option",{attrs:{value:2}},[t._v("规格")])],1)],1),t._v(" "),a("FormItem",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(1)}}},[t._v("搜索")]),t._v(" "),a("Button",{attrs:{type:"warning"},on:{click:function(e){t.showComponent("Create")}}},[t._v("添加")])],1)],1)],1),t._v(" "),a(t.component.current,{tag:"components",attrs:{data:t.component.data},on:{"on-change":t.hideComponent}})],1)},staticRenderFns:[]}},j4FD:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-tags"},[t._l(t.specs,function(e,r){return a("Tag",{key:r,attrs:{name:r,closable:"",type:"border"},on:{"on-close":t.handleClose}},[t._v(t._s(e))])}),t._v(" "),a("div",{staticClass:"form-tags-input"},[a("Input",{ref:"addTags",attrs:{size:"small",placeholder:t.placeholder,search:"","enter-button":"添加"+t.placeholder},on:{"on-search":t.onSearch}})],1)],2)},staticRenderFns:[]}},kHV6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("dRdT")),o=i(a("79/q")),s=i(a("36X4")),n=i(a("KxS8"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"index",components:{MyLists:r.default,Create:s.default,Update:n.default},mixins:[o.default],data:function(){var t=this;return{columns:[{title:"模型名称",key:"name"},{title:"操作",width:150,render:function(e,a){var r=a.row;return e("button-group",null,[e("i-button",{attrs:{size:"small"},on:{click:function(){return t.showComponent("Update",r)}}},["修改"]),e("poptip",{attrs:{confirm:!0,transfer:!0,title:"确定要删除吗？"},on:{"on-ok":function(){return t.destroyItem(r,"model/"+r.id)}}},[e("i-button",{attrs:{size:"small"}},["删除"])])])}}]}},methods:{search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http.get("model",{params:this.request(e)}).then(function(e){t.assignmentData(e.data.data)}).catch(function(e){t.formatErrors(e)}).finally(function(){t.loading=!1})}}}},mTUa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-lists",props:{value:{type:Object,default:function(){return{data:[],page:{total:100,current:1,page_size:20}}}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{leftCol:[{title:"序号",render:function(t,e){var a=e.index;return t("span",null,[++a])},width:75}],rightCol:[]}},computed:{tableCol:function(){return this.leftCol.concat(this.columns,this.rightCol)}},methods:{change:function(t){this.$emit("change",t)},rowClassName:function(t,e){}}}},rKxu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(a("sb2X")),o=c(a("XNfZ")),s=c(a("tkAJ")),n=a("LmQL"),i=c(a("/IoB")),l=c(a("QDiq")),u=c(a("6mZy"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"create",components:{FormTags:u.default,BoxItem:l.default,Box:i.default,ComponentModal:r.default},mixins:[o.default,s.default],data:function(){return{formUpdate:{attributes:[{name:"",values:[]}],specs:[]},ruleUpdate:(0,n.Validator)(this)}},mounted:function(){var t=this;this.loading=!0,this.$http.get("model/"+this.data.id+"/edit").then(function(e){t.formUpdate=Object.assign({},t.formUpdate,e.data.data)}).catch(function(e){t.formatErrors(e)}).finally(function(){t.loading=!1})},methods:{handleAdd:function(){this.formUpdate.attributes.push({name:"",values:[]})},handleRemove:function(t){this.formUpdate.attributes.splice(t,1)}}}},sb2X:function(t,e,a){var r=a("VU/8")(a("QzxY"),a("taya"),!1,function(t){a("RFRr")},"data-v-f6907288",null);t.exports=r.exports},taya:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:t.title,value:!0,transfer:!1,"mask-closable":!1,width:t.width},on:{"on-visible-change":t.change}},[a("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2),t._v(" "),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},staticRenderFns:[]}},tkAJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=a("wbiy"),s=(r=o)&&r.__esModule?r:{default:r};e.default={mixins:[s.default],methods:{updateSubmit:function(t,e){var a=this;this.$refs[t].validate(function(r){r?(a.loading=!0,a.$http.put(e,a.unObserver(a._data[t])).then(function(t){a.$Message.success("Success!"),a.change(!1)}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1})):a.$Message.error("验证不通过!")})},createSubmit:function(t,e){var a=this;this.$refs[t].validate(function(r){r&&(a.loading=!0,a.$http.post(e,a._data[t]).then(function(t){a.$Message.success("Success!"),a.change(!1)}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1}))})}}}},xBbe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"box",props:{title:{type:String,default:"标题"}}}},xo8R:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".seller-model .form-item{margin-bottom:19px}.seller-model .delete{text-align:center;line-height:30px;cursor:pointer}.seller-model .form-item .ivu-form-item-error-tip{padding-top:0}",""])},zxV6:function(t,e,a){var r=a("XNFv");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("61b2e35c",r,!0,{})}});